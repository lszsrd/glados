<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head id="head" data-base-url=".."><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>ParserHelper</title><link href="../linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="../quick-jump.css" /><script src="../haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">glados-2.0.0: Generic Language And Data Operand Syntax</span><ul class="links" id="page-menu"><li><a href="src/ParserHelper.html">Source</a></li><li><a href="../index.html">Contents</a></li><li><a href="../doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>maxence.pierre@epitech.eu, florian.grave@epitech.eu, hugo.duda@epitech.eu</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">ParserHelper</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Provides helper functions for parsing tokens</p><p>If an unexpected token is found or if the syntax is invalid, the parsing functions return an pretty formatted error message.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:parseBuiltinType">parseBuiltinType</a> :: Parser <a href="Ast.html#t:BuiltinType" title="Ast">BuiltinType</a></li><li class="src short"><a href="#v:parseIdentifier">parseIdentifier</a> :: Parser <a href="Tokens.html#t:Identifier" title="Tokens">Identifier</a></li><li class="src short"><a href="#v:parsePVDE">parsePVDE</a> :: Parser <a href="Ast.html#t:ParmVarDeclExpr" title="Ast">ParmVarDeclExpr</a></li><li class="src short"><a href="#v:parsePVDEList">parsePVDEList</a> :: Parser [<a href="Ast.html#t:ParmVarDeclExpr" title="Ast">ParmVarDeclExpr</a>]</li><li class="src short"><a href="#v:parseAssignOp">parseAssignOp</a> :: Parser <a href="Tokens.html#t:AssignOp" title="Tokens">AssignOp</a></li><li class="src short"><a href="#v:parseParmCallDecl">parseParmCallDecl</a> :: <a href="Ast.html#t:Decl" title="Ast">Decl</a> -&gt; Parser <a href="Ast.html#t:ParmCallDecl" title="Ast">ParmCallDecl</a></li><li class="src short"><a href="#v:parseCallExprDecl">parseCallExprDecl</a> :: <a href="Ast.html#t:Decl" title="Ast">Decl</a> -&gt; Parser <a href="Ast.html#t:CallExprDecl" title="Ast">CallExprDecl</a></li><li class="src short"><a href="#v:parseVarDeclStmt">parseVarDeclStmt</a> :: <a href="Ast.html#t:Decl" title="Ast">Decl</a> -&gt; Parser <a href="Ast.html#t:VarDeclStmt" title="Ast">VarDeclStmt</a></li><li class="src short"><a href="#v:parseDeclStmt">parseDeclStmt</a> :: <a href="Ast.html#t:Decl" title="Ast">Decl</a> -&gt; Parser <a href="Ast.html#t:DeclStmt" title="Ast">DeclStmt</a></li><li class="src short"><a href="#v:parseBinaryOp">parseBinaryOp</a> :: Parser <a href="Tokens.html#t:BinaryOp" title="Tokens">BinaryOp</a></li><li class="src short"><a href="#v:parseListLiteral">parseListLiteral</a> :: Parser <a href="Tokens.html#t:Literal" title="Tokens">Literal</a></li><li class="src short"><a href="#v:parseListElements">parseListElements</a> :: Parser [<a href="Tokens.html#t:Literal" title="Tokens">Literal</a>]</li><li class="src short"><a href="#v:errorAt">errorAt</a> :: (Int, Int) -&gt; String -&gt; Either String a</li><li class="src short"><a href="#v:expectToken">expectToken</a> :: <a href="Tokens.html#t:Token" title="Tokens">Token</a> -&gt; String -&gt; Parser ()</li><li class="src short"><a href="#v:parseMaybe">parseMaybe</a> :: Parser a -&gt; Parser (Maybe a)</li><li class="src short"><a href="#v:getPos">getPos</a> :: Int -&gt; [SingleToken] -&gt; (Int, Int)</li><li class="src short"><a href="#v:addIfVarExpr">addIfVarExpr</a> :: (Int, Int) -&gt; <a href="Ast.html#t:Stmt" title="Ast">Stmt</a> -&gt; [<a href="Ast.html#t:ParmVarDeclExpr" title="Ast">ParmVarDeclExpr</a>] -&gt; Either String [<a href="Ast.html#t:ParmVarDeclExpr" title="Ast">ParmVarDeclExpr</a>]</li><li class="src short"><a href="#v:findString">findString</a> :: Eq a =&gt; [a] -&gt; [a] -&gt; Maybe Int</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:parseBuiltinType" class="def">parseBuiltinType</a> :: Parser <a href="Ast.html#t:BuiltinType" title="Ast">BuiltinType</a> <a href="src/ParserHelper.html#parseBuiltinType" class="link">Source</a> <a href="#v:parseBuiltinType" class="selflink">#</a></p><div class="doc"><p>Takes a <code>'[SingleToken]'</code> as parameter and
 returns a <strong>Either</strong> <code><code>String</code></code> <code><code><a href="Ast.html#t:BuiltinType" title="Ast">BuiltinType</a></code></code>.</p><p>On success, this function returns a <code><code><a href="Ast.html#t:BuiltinType" title="Ast">BuiltinType</a></code></code>.</p><p>On failure, this function returns a pretty formatted message error.</p><p>This function is used to parse a Rizz Builtin type (Int, Bool, Char, ...).</p></div></div><div class="top"><p class="src"><a id="v:parseIdentifier" class="def">parseIdentifier</a> :: Parser <a href="Tokens.html#t:Identifier" title="Tokens">Identifier</a> <a href="src/ParserHelper.html#parseIdentifier" class="link">Source</a> <a href="#v:parseIdentifier" class="selflink">#</a></p><div class="doc"><p>Takes a <code>'[SingleToken]'</code> as parameter and
 returns a <strong>Either</strong> <code><code>String</code></code> <code><code><a href="Tokens.html#t:Identifier" title="Tokens">Identifier</a></code></code>.</p><p>On success, this function returns a <code><code><a href="Tokens.html#t:Identifier" title="Tokens">Identifier</a></code></code>.</p><p>On failure, this function returns a pretty formatted message error.</p><p>This function is used to parse an Identifier (e.g.: foo, bar, a, ...).</p></div></div><div class="top"><p class="src"><a id="v:parsePVDE" class="def">parsePVDE</a> :: Parser <a href="Ast.html#t:ParmVarDeclExpr" title="Ast">ParmVarDeclExpr</a> <a href="src/ParserHelper.html#parsePVDE" class="link">Source</a> <a href="#v:parsePVDE" class="selflink">#</a></p><div class="doc"><p>Takes a <code>'[SingleToken]'</code> as parameter and
 returns a <strong>Either</strong> <code><code>String</code></code> <code><code><a href="Ast.html#t:ParmVarDeclExpr" title="Ast">ParmVarDeclExpr</a></code></code>.</p><p>On success, this function returns a <code><code><a href="Ast.html#t:ParmVarDeclExpr" title="Ast">ParmVarDeclExpr</a></code></code>.</p><p>On failure, this function returns a pretty formatted message error.</p><p>This function is used to parse a ParmVarDeclExpr (composed of a BuiltinType and an Identifier).</p></div></div><div class="top"><p class="src"><a id="v:parsePVDEList" class="def">parsePVDEList</a> :: Parser [<a href="Ast.html#t:ParmVarDeclExpr" title="Ast">ParmVarDeclExpr</a>] <a href="src/ParserHelper.html#parsePVDEList" class="link">Source</a> <a href="#v:parsePVDEList" class="selflink">#</a></p><div class="doc"><p>Takes a <code>'[SingleToken]'</code> as parameter and
 returns a <strong>Either</strong> <code><code>String</code></code> <code>'[A.ParmVarDeclExpr]'</code>.</p><p>On success, this function returns a <code>'[A.ParmVarDeclExpr]'</code>.</p><p>On failure, this function returns a pretty formatted message error.</p><p>This function is used to parse a list of ParmVarDeclExpr, typically function parameters.</p></div></div><div class="top"><p class="src"><a id="v:parseAssignOp" class="def">parseAssignOp</a> :: Parser <a href="Tokens.html#t:AssignOp" title="Tokens">AssignOp</a> <a href="src/ParserHelper.html#parseAssignOp" class="link">Source</a> <a href="#v:parseAssignOp" class="selflink">#</a></p><div class="doc"><p>Takes a <code>'[SingleToken]'</code> as parameter and
 returns a <strong>Either</strong> <code><code>String</code></code> <code>'[T.AssignOp]'</code>.</p><p>On success, this function returns a <code><code><a href="Tokens.html#t:AssignOp" title="Tokens">AssignOp</a></code></code>.</p><p>On failure, this function returns a pretty formatted message error.</p><p>This function is used to parse an assignment operator.</p></div></div><div class="top"><p class="src"><a id="v:parseParmCallDecl" class="def">parseParmCallDecl</a> :: <a href="Ast.html#t:Decl" title="Ast">Decl</a> -&gt; Parser <a href="Ast.html#t:ParmCallDecl" title="Ast">ParmCallDecl</a> <a href="src/ParserHelper.html#parseParmCallDecl" class="link">Source</a> <a href="#v:parseParmCallDecl" class="selflink">#</a></p><div class="doc"><p>Takes an <code><code><a href="Ast.html#t:Decl" title="Ast">Decl</a></code></code> and a <code>'[SingleToken]'</code> as parameter and
 returns a <strong>Either</strong> <code><code>String</code></code> <code><code><a href="Ast.html#t:ParmCallDecl" title="Ast">ParmCallDecl</a></code></code>.</p><p>On success, this function returns a <code><code><a href="Ast.html#t:ParmCallDecl" title="Ast">ParmCallDecl</a></code></code>.</p><p>On failure, this function returns a pretty formatted message error.</p><p>This function is used to parse the a single parameter of a function call (e.g.: 4, <code>c</code>, foo(), ...).</p></div></div><div class="top"><p class="src"><a id="v:parseCallExprDecl" class="def">parseCallExprDecl</a> :: <a href="Ast.html#t:Decl" title="Ast">Decl</a> -&gt; Parser <a href="Ast.html#t:CallExprDecl" title="Ast">CallExprDecl</a> <a href="src/ParserHelper.html#parseCallExprDecl" class="link">Source</a> <a href="#v:parseCallExprDecl" class="selflink">#</a></p><div class="doc"><p>Takes an <code><code><a href="Ast.html#t:Decl" title="Ast">Decl</a></code></code> and a <code>'[SingleToken]'</code> as parameter and
 returns a <strong>Either</strong> <code><code>String</code></code> <code><code><a href="Ast.html#t:CallExprDecl" title="Ast">CallExprDecl</a></code></code>.</p><p>On success, this function returns a <code><code><a href="Ast.html#t:CallExprDecl" title="Ast">CallExprDecl</a></code></code>.</p><p>On failure, this function returns a pretty formatted message error.</p><p>This function is used to parse a function call.</p></div></div><div class="top"><p class="src"><a id="v:parseVarDeclStmt" class="def">parseVarDeclStmt</a> :: <a href="Ast.html#t:Decl" title="Ast">Decl</a> -&gt; Parser <a href="Ast.html#t:VarDeclStmt" title="Ast">VarDeclStmt</a> <a href="src/ParserHelper.html#parseVarDeclStmt" class="link">Source</a> <a href="#v:parseVarDeclStmt" class="selflink">#</a></p><div class="doc"><p>Takes an <code><code><a href="Ast.html#t:Decl" title="Ast">Decl</a></code></code> and a <code>'[SingleToken]'</code> as parameter and
 returns a <strong>Either</strong> <code><code>String</code></code> <code><code><a href="Ast.html#t:VarDeclStmt" title="Ast">VarDeclStmt</a></code></code>.</p><p>On success, this function returns a <code><code><a href="Ast.html#t:VarDeclStmt" title="Ast">VarDeclStmt</a></code></code>.</p><p>On failure, this function returns a pretty formatted message error.</p><p>This function is used to parse a variable declaration statement.</p></div></div><div class="top"><p class="src"><a id="v:parseDeclStmt" class="def">parseDeclStmt</a> :: <a href="Ast.html#t:Decl" title="Ast">Decl</a> -&gt; Parser <a href="Ast.html#t:DeclStmt" title="Ast">DeclStmt</a> <a href="src/ParserHelper.html#parseDeclStmt" class="link">Source</a> <a href="#v:parseDeclStmt" class="selflink">#</a></p><div class="doc"><p>Takes an <code><code><a href="Ast.html#t:Decl" title="Ast">Decl</a></code></code> and a <code>'[SingleToken]'</code> as parameter and
 returns a <strong>Either</strong> <code><code>String</code></code> <code><code><a href="Ast.html#t:Stmt" title="Ast">Stmt</a></code></code>.</p><p>On success, this function returns a <code><code><a href="Ast.html#t:Stmt" title="Ast">Stmt</a></code></code>.</p><p>On failure, this function returns a pretty formatted message error.</p><p>This function is used to parse an operation on an existing variable.</p></div></div><div class="top"><p class="src"><a id="v:parseBinaryOp" class="def">parseBinaryOp</a> :: Parser <a href="Tokens.html#t:BinaryOp" title="Tokens">BinaryOp</a> <a href="src/ParserHelper.html#parseBinaryOp" class="link">Source</a> <a href="#v:parseBinaryOp" class="selflink">#</a></p><div class="doc"><p>Takes a <code>'[SingleToken]'</code> as parameter and
 returns a <strong>Either</strong> <code><code>String</code></code> <code>'[T.BinaryOp]'</code>.</p><p>On success, this function returns a <code><code><a href="Tokens.html#t:BinaryOp" title="Tokens">BinaryOp</a></code></code>.</p><p>On failure, this function returns a pretty formatted message error.</p><p>This function is used to parse a binary operator.</p></div></div><div class="top"><p class="src"><a id="v:parseListLiteral" class="def">parseListLiteral</a> :: Parser <a href="Tokens.html#t:Literal" title="Tokens">Literal</a> <a href="src/ParserHelper.html#parseListLiteral" class="link">Source</a> <a href="#v:parseListLiteral" class="selflink">#</a></p><div class="doc"><p>Takes a <code>'[SingleToken]'</code> as parameter and
 returns a <strong>Either</strong> <code><code>String</code></code> <code><code><a href="Tokens.html#t:Token" title="Tokens">Token</a></code></code>.</p><p>On success, this function returns a <code><code><a href="T.html#v:Litteral" title="T">Litteral</a></code></code>.</p><p>On failure, this function returns a pretty formatted message error.</p><p>This function is used to parse a list of literal values.</p></div></div><div class="top"><p class="src"><a id="v:parseListElements" class="def">parseListElements</a> :: Parser [<a href="Tokens.html#t:Literal" title="Tokens">Literal</a>] <a href="src/ParserHelper.html#parseListElements" class="link">Source</a> <a href="#v:parseListElements" class="selflink">#</a></p><div class="doc"><p>Takes a <code>'[SingleToken]'</code> as parameter and
 returns a <strong>Either</strong> <code><code>String</code></code> <code>'[T.Literal]'</code>.</p><p>On success, this function returns a <code>'[T.Litteral]'</code>.</p><p>On failure, this function returns a pretty formatted message error.</p><p>This function is used to parse a list of literal values.</p></div></div><div class="top"><p class="src"><a id="v:errorAt" class="def">errorAt</a> :: (Int, Int) -&gt; String -&gt; Either String a <a href="src/ParserHelper.html#errorAt" class="link">Source</a> <a href="#v:errorAt" class="selflink">#</a></p><div class="doc"><p>Takes a (<code><code><a href="Data.html#v:Int" title="Data">Int</a></code></code>, <code><code><a href="Data.html#v:Int" title="Data">Int</a></code></code>) position and a <code><code>String</code></code> message as parameters and returns a <strong>Either</strong> <code><code>String</code></code> a.</p><p>This function returns a pretty formatted error message with line &amp; col position.</p><p>NOTE: This function is used as an helper to format error messages.</p></div></div><div class="top"><p class="src"><a id="v:expectToken" class="def">expectToken</a> :: <a href="Tokens.html#t:Token" title="Tokens">Token</a> -&gt; String -&gt; Parser () <a href="src/ParserHelper.html#expectToken" class="link">Source</a> <a href="#v:expectToken" class="selflink">#</a></p><div class="doc"><p>Takes a <code><code><a href="Tokens.html#t:Token" title="Tokens">Token</a></code></code>, a <code><code>String</code></code> message and a <code><code>Parser</code></code> <code><code>SingleToken</code></code> list as parameters and returns a <strong>Either</strong> <code><code>String</code></code> ((), [<code><code>SingleToken</code></code>]).</p><p>On success, this function returns a tuple containing the rest of the stream</p><p>On failure, this function returns a pretty formatted error message with line &amp; col position.</p></div></div><div class="top"><p class="src"><a id="v:parseMaybe" class="def">parseMaybe</a> :: Parser a -&gt; Parser (Maybe a) <a href="src/ParserHelper.html#parseMaybe" class="link">Source</a> <a href="#v:parseMaybe" class="selflink">#</a></p><div class="doc"><p>Takes a <code><code>Parser</code></code> <code><code>a</code></code> and a list as parameters and
 returns a <strong>Either</strong> <code><code>String</code></code> (<strong>Maybe</strong> <code><code>a</code></code>, [<code><code>SingleToken</code></code>]).</p><p>On success, this function returns a tuple containing <strong>Just</strong> <code><code>a</code></code> and the rest of the stream.</p><p>On failure, this function returns a tuple containing <strong>Nothing</strong> and the rest of the stream.</p><p>This function is used to parse a expression that can be empty.
 (e.g.: a forExpr can either be &quot;for(Int a = 0; a &lt; 0; a++)&quot; and &quot;for(;;)&quot; )</p></div></div><div class="top"><p class="src"><a id="v:getPos" class="def">getPos</a> :: Int -&gt; [SingleToken] -&gt; (Int, Int) <a href="src/ParserHelper.html#getPos" class="link">Source</a> <a href="#v:getPos" class="selflink">#</a></p><div class="doc"><p>Takes an <code><code>Integer</code></code> and a stream of <code><code>SingleToken</code></code> as parameters,
  and returns a tuple of <code><code>Integer</code></code></p><p>this function serves as a helper function to get the position of the first or last token in the stream.</p></div></div><div class="top"><p class="src"><a id="v:addIfVarExpr" class="def">addIfVarExpr</a> :: (Int, Int) -&gt; <a href="Ast.html#t:Stmt" title="Ast">Stmt</a> -&gt; [<a href="Ast.html#t:ParmVarDeclExpr" title="Ast">ParmVarDeclExpr</a>] -&gt; Either String [<a href="Ast.html#t:ParmVarDeclExpr" title="Ast">ParmVarDeclExpr</a>] <a href="src/ParserHelper.html#addIfVarExpr" class="link">Source</a> <a href="#v:addIfVarExpr" class="selflink">#</a></p><div class="doc"><p>Takes a (<code><code><a href="Data.html#v:Int" title="Data">Int</a></code></code>, <code><code><a href="Data.html#v:Int" title="Data">Int</a></code></code>), an <code>'A.Stmt</code> and a list of <code><code><a href="Ast.html#t:ParmVarDeclExpr" title="Ast">ParmVarDeclExpr</a></code></code> as parameters and
 returns a <strong>Either</strong> <code><code>String</code></code> <code>'[A.ParmVarDeclExpr]'</code>.</p><p>On success, this function returns a <code>'[A.ParmVarDeclExpr]'</code>, with the newly added variable in the list.</p><p>On failure, this function returns a pretty formatted message error.</p><p>This function is used to add a variable to the defined variables.</p></div></div><div class="top"><p class="src"><a id="v:findString" class="def">findString</a> :: Eq a =&gt; [a] -&gt; [a] -&gt; Maybe Int <a href="src/ParserHelper.html#findString" class="link">Source</a> <a href="#v:findString" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.27.0</p></div></body></html>